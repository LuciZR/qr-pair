## 1st step

Add your `mongoDb` url in `config.js`

## 2th step

Host this code in any server `eg : render`

[![Deploy to Koyeb](https://www.koyeb.com/static/images/deploy/button.svg)](https://app.koyeb.com/deploy?name=inrl-md&type=git&builder=buildpack&env%5BMODE%5D=private&env%5BPREFIX%5D=%2C&env%5BSESSION_ID%5D=SUHAIL_04_48_09_28_ewogICJjcmVkcy5qc29uIjogIntcbiAgXCJub2lzZUtleVwiOiB7XG4gICAgXCJwcml2YXRlXCI6IHtcbiAgICAgIFwidHlwZVwiOiBcIkJ1ZmZlclwiLFxuICAgICAgXCJkYXRhXCI6IFtcbiAgICAgICAgMjMyLFxuICAgICAgICAxNDgsXG4gICAgICAgIDQ2LFxuICAgICAgICAyMDgsXG4gICAgICAgIDE5NSxcbiAgICAgICAgMTgwLFxuICAgICAgICAxMTIsXG4gICAgICAgIDI1NCxcbiAgICAgICAgMTk0LFxuICAgICAgICAxMDUsXG4gICAgICAgIDE4NyxcbiAgICAgICAgMTM1LFxuICAgICAgICAxNTUsXG4gICAgICAgIDE2MyxcbiAgICAgICAgMzAsXG4gICAgICAgIDE5NSxcbiAgICAgICAgMTg0LFxuICAgICAgICA5MSxcbiAgICAgICAgNTIsXG4gICAgICAgIDk5LFxuICAgICAgICA0LFxuICAgICAgICAxMDcsXG4gICAgICAgIDIxOSxcbiAgICAgICAgMjgsXG4gICAgICAgIDE2MixcbiAgICAgICAgNzQsXG4gICAgICAgIDMzLFxuICAgICAgICAyNDAsXG4gICAgICAgIDgsXG4gICAgICAgIDU1LFxuICAgICAgICAyNTQsXG4gICAgICAgIDEyNVxuICAgICAgXVxuICAgIH0sXG4gICAgXCJwdWJsaWNcIjoge1xuICAgICAgXCJ0eXBlXCI6IFwiQnVmZmVyXCIsXG4gICAgICBcImRhdGFcIjogW1xuICAgICAgICA3MCxcbiAgICAgICAgNjQsXG4gICAgICAgIDU1LFxuICAgICAgICAxODUsXG4gICAgICAgIDIzNSxcbiAgICAgICAgMjQ5LFxuICAgICAgICAxNzcsXG4gICAgICAgIDEzOCxcbiAgICAgICAgMTM0LFxuICAgICAgICAyMzIsXG4gICAgICAgIDM3LFxuICAgICAgICAxNSxcbiAgICAgICAgODMsXG4gICAgICAgIDExNyxcbiAgICAgICAgOTUsXG4gICAgICAgIDIwMixcbiAgICAgICAgMjMxLFxuICAgICAgICAyMzUsXG4gICAgICAgIDMsXG4gICAgICAgIDEzNSxcbiAgICAgICAgMjEzLFxuICAgICAgICA1NyxcbiAgICAgICAgMjUzLFxuICAgICAgICA5NCxcbiAgICAgICAgNjcsXG4gICAgICAgIDExNCxcbiAgICAgICAgMTAsXG4gICAgICAgIDg5LFxuICAgICAgICAxMzUsXG4gICAgICAgIDk2LFxuICAgICAgICA3NSxcbiAgICAgICAgMTAxXG4gICAgICBdXG4gICAgfVxuICB9LFxuICBcInBhaXJpbmdFcGhlbWVyYWxLZXlQYWlyXCI6IHtcbiAgICBcInByaXZhdGVcIjoge1xuICAgICAgXCJ0eXBlXCI6IFwiQnVmZmVyXCIsXG4gICAgICBcImRhdGFcIjogW1xuICAgICAgICAxMjAsXG4gICAgICAgIDE1MixcbiAgICAgICAgNTksXG4gICAgICAgIDI1MyxcbiAgICAgICAgMTU2LFxuICAgICAgICAxMjIsXG4gICAgICAgIDI0NSxcbiAgICAgICAgOSxcbiAgICAgICAgMjEyLFxuICAgICAgICA4NCxcbiAgICAgICAgMTcxLFxuICAgICAgICAyMTgsXG4gICAgICAgIDU5LFxuICAgICAgICAyMjEsXG4gICAgICAgIDE4NSxcbiAgICAgICAgMjQxLFxuICAgICAgICAyNSxcbiAgICAgICAgNjUsXG4gICAgICAgIDc3LFxuICAgICAgICA1MSxcbiAgICAgICAgNzUsXG4gICAgICAgIDE1MSxcbiAgICAgICAgMTM4LFxuICAgICAgICAxMDAsXG4gICAgICAgIDE4NyxcbiAgICAgICAgMTI1LFxuICAgICAgICA1NixcbiAgICAgICAgMTcsXG4gICAgICAgIDIyOCxcbiAgICAgICAgMTk5LFxuICAgICAgICAyNDYsXG4gICAgICAgIDEwNlxuICAgICAgXVxuICAgIH0sXG4gICAgXCJwdWJsaWNcIjoge1xuICAgICAgXCJ0eXBlXCI6IFwiQnVmZmVyXCIsXG4gICAgICBcImRhdGFcIjogW1xuICAgICAgICAxODEsXG4gICAgICAgIDMxLFxuICAgICAgICA3MyxcbiAgICAgICAgMTAxLFxuICAgICAgICAxNTIsXG4gICAgICAgIDIyMCxcbiAgICAgICAgMjEyLFxuICAgICAgICAxNzEsXG4gICAgICAgIDEwMCxcbiAgICAgICAgMjQzLFxuICAgICAgICA4NixcbiAgICAgICAgMTkzLFxuICAgICAgICA4LFxuICAgICAgICAxMjcsXG4gICAgICAgIDMsXG4gICAgICAgIDEwMyxcbiAgICAgICAgMyxcbiAgICAgICAgMTg3LFxuICAgICAgICAxNjMsXG4gICAgICAgIDM3LFxuICAgICAgICAyNDYsXG4gICAgICAgIDgwLFxuICAgICAgICA5NixcbiAgICAgICAgMzIsXG4gICAgICAgIDE1MCxcbiAgICAgICAgMjMxLFxuICAgICAgICAyNDYsXG4gICAgICAgIDEzNSxcbiAgICAgICAgODAsXG4gICAgICAgIDIwNixcbiAgICAgICAgMjIzLFxuICAgICAgICAxMjVcbiAgICAgIF1cbiAgICB9XG4gIH0sXG4gIFwic2lnbmVkSWRlbnRpdHlLZXlcIjoge1xuICAgIFwicHJpdmF0ZVwiOiB7XG4gICAgICBcInR5cGVcIjogXCJCdWZmZXJcIixcbiAgICAgIFwiZGF0YVwiOiBbXG4gICAgICAgIDE1MixcbiAgICAgICAgNTEsXG4gICAgICAgIDIwNixcbiAgICAgICAgMjUzLFxuICAgICAgICAyMzMsXG4gICAgICAgIDE4NixcbiAgICAgICAgMjE1LFxuICAgICAgICA5NyxcbiAgICAgICAgMzEsXG4gICAgICAgIDI0MixcbiAgICAgICAgMTUwLFxuICAgICAgICAzMSxcbiAgICAgICAgMjMyLFxuICAgICAgICA3NSxcbiAgICAgICAgNzYsXG4gICAgICAgIDg2LFxuICAgICAgICAxOCxcbiAgICAgICAgMjQwLFxuICAgICAgICA1MCxcbiAgICAgICAgMjE4LFxuICAgICAgICAxNixcbiAgICAgICAgMjQzLFxuICAgICAgICA2MCxcbiAgICAgICAgMTc4LFxuICAgICAgICA5NSxcbiAgICAgICAgMjksXG4gICAgICAgIDEzNixcbiAgICAgICAgMzQsXG4gICAgICAgIDE2NCxcbiAgICAgICAgODEsXG4gICAgICAgIDE4NSxcbiAgICAgICAgMTA1XG4gICAgICBdXG4gICAgfSxcbiAgICBcInB1YmxpY1wiOiB7XG4gICAgICBcInR5cGVcIjogXCJCdWZmZXJcIixcbiAgICAgIFwiZGF0YVwiOiBbXG4gICAgICAgIDE4MCxcbiAgICAgICAgMjA1LFxuICAgICAgICAxNTMsXG4gICAgICAgIDYxLFxuICAgICAgICA5NCxcbiAgICAgICAgMjE5LFxuICAgICAgICAxNzYsXG4gICAgICAgIDE2OCxcbiAgICAgICAgMTY1LFxuICAgICAgICA3MixcbiAgICAgICAgMTg1LFxuICAgICAgICAxNTEsXG4gICAgICAgIDk1LFxuICAgICAgICAxODcsXG4gICAgICAgIDksXG4gICAgICAgIDEzMyxcbiAgICAgICAgMTYsXG4gICAgICAgIDk2LFxuICAgICAgICA0MyxcbiAgICAgICAgMTMxLFxuICAgICAgICA2MSxcbiAgICAgICAgMTAwLFxuICAgICAgICAxODcsXG4gICAgICAgIDk3LFxuICAgICAgICAxNixcbiAgICAgICAgMjE1LFxuICAgICAgICAyMTIsXG4gICAgICAgIDEyMCxcbiAgICAgICAgOTAsXG4gICAgICAgIDEwNSxcbiAgICAgICAgMyxcbiAgICAgICAgN1xuICAgICAgXVxuICAgIH1cbiAgfSxcbiAgXCJzaWduZWRQcmVLZXlcIjoge1xuICAgIFwia2V5UGFpclwiOiB7XG4gICAgICBcInByaXZhdGVcIjoge1xuICAgICAgICBcInR5cGVcIjogXCJCdWZmZXJcIixcbiAgICAgICAgXCJkYXRhXCI6IFtcbiAgICAgICAgICAxNDQsXG4gICAgICAgICAgMzAsXG4gICAgICAgICAgOTIsXG4gICAgICAgICAgOTIsXG4gICAgICAgICAgMTg3LFxuICAgICAgICAgIDI0MSxcbiAgICAgICAgICAxODksXG4gICAgICAgICAgMTgyLFxuICAgICAgICAgIDE4MSxcbiAgICAgICAgICAzMSxcbiAgICAgICAgICAxMjgsXG4gICAgICAgICAgODUsXG4gICAgICAgICAgNDMsXG4gICAgICAgICAgMjI5LFxuICAgICAgICAgIDMxLFxuICAgICAgICAgIDIwLFxuICAgICAgICAgIDIyNSxcbiAgICAgICAgICAxMyxcbiAgICAgICAgICAxOCxcbiAgICAgICAgICAxNDcsXG4gICAgICAgICAgMjE4LFxuICAgICAgICAgIDkxLFxuICAgICAgICAgIDE2LFxuICAgICAgICAgIDcxLFxuICAgICAgICAgIDIyNCxcbiAgICAgICAgICAxMTYsXG4gICAgICAgICAgMTIwLFxuICAgICAgICAgIDM4LFxuICAgICAgICAgIDEzOSxcbiAgICAgICAgICA1MCxcbiAgICAgICAgICAxNTksXG4gICAgICAgICAgOTlcbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgIFwicHVibGljXCI6IHtcbiAgICAgICAgXCJ0eXBlXCI6IFwiQnVmZmVyXCIsXG4gICAgICAgIFwiZGF0YVwiOiBbXG4gICAgICAgICAgNDQsXG4gICAgICAgICAgMjQsXG4gICAgICAgICAgOTMsXG4gICAgICAgICAgMTM2LFxuICAgICAgICAgIDI5LFxuICAgICAgICAgIDIzMixcbiAgICAgICAgICA0OSxcbiAgICAgICAgICAyMzYsXG4gICAgICAgICAgMjQyLFxuICAgICAgICAgIDEyNSxcbiAgICAgICAgICAxMjUsXG4gICAgICAgICAgMjAsXG4gICAgICAgICAgMzksXG4gICAgICAgICAgMTU0LFxuICAgICAgICAgIDIwNyxcbiAgICAgICAgICAyMDQsXG4gICAgICAgICAgMTY4LFxuICAgICAgICAgIDM5LFxuICAgICAgICAgIDQzLFxuICAgICAgICAgIDc5LFxuICAgICAgICAgIDEyMCxcbiAgICAgICAgICAxNzEsXG4gICAgICAgICAgOTksXG4gICAgICAgICAgMTk3LFxuICAgICAgICAgIDMxLFxuICAgICAgICAgIDIwMSxcbiAgICAgICAgICAxOTcsXG4gICAgICAgICAgMjI4LFxuICAgICAgICAgIDM2LFxuICAgICAgICAgIDE5NCxcbiAgICAgICAgICAxNTQsXG4gICAgICAgICAgMTI0XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9LFxuICAgIFwic2lnbmF0dXJlXCI6IHtcbiAgICAgIFwidHlwZVwiOiBcIkJ1ZmZlclwiLFxuICAgICAgXCJkYXRhXCI6IFtcbiAgICAgICAgMjQxLFxuICAgICAgICAxMzAsXG4gICAgICAgIDIzNyxcbiAgICAgICAgMTkwLFxuICAgICAgICAxOTEsXG4gICAgICAgIDE5NyxcbiAgICAgICAgNjUsXG4gICAgICAgIDgyLFxuICAgICAgICA0NixcbiAgICAgICAgMTg1LFxuICAgICAgICA2MixcbiAgICAgICAgMTQwLFxuICAgICAgICAxMjIsXG4gICAgICAgIDE2MSxcbiAgICAgICAgODMsXG4gICAgICAgIDEwOSxcbiAgICAgICAgOTEsXG4gICAgICAgIDE2OSxcbiAgICAgICAgMjQ5LFxuICAgICAgICAxNjgsXG4gICAgICAgIDIyNixcbiAgICAgICAgODUsXG4gICAgICAgIDIxMyxcbiAgICAgICAgMjE1LFxuICAgICAgICA0NCxcbiAgICAgICAgNjksXG4gICAgICAgIDIzLFxuICAgICAgICAxNixcbiAgICAgICAgMTk3LFxuICAgICAgICAyMzYsXG4gICAgICAgIDE3MCxcbiAgICAgICAgMTY4LFxuICAgICAgICAxNDMsXG4gICAgICAgIDE0MSxcbiAgICAgICAgMjEzLFxuICAgICAgICAxMTAsXG4gICAgICAgIDIxOCxcbiAgICAgICAgMTI0LFxuICAgICAgICA3OCxcbiAgICAgICAgNzksXG4gICAgICAgIDIxOCxcbiAgICAgICAgMTA4LFxuICAgICAgICAxMDAsXG4gICAgICAgIDE2NCxcbiAgICAgICAgNjcsXG4gICAgICAgIDIwMSxcbiAgICAgICAgMjQwLFxuICAgICAgICA4NyxcbiAgICAgICAgMTg4LFxuICAgICAgICAxNzcsXG4gICAgICAgIDIxMSxcbiAgICAgICAgMTMzLFxuICAgICAgICA3MCxcbiAgICAgICAgMjQ1LFxuICAgICAgICA2NyxcbiAgICAgICAgMTA5LFxuICAgICAgICA2MCxcbiAgICAgICAgMzcsXG4gICAgICAgIDE4NyxcbiAgICAgICAgMjIsXG4gICAgICAgIDIwMCxcbiAgICAgICAgODMsXG4gICAgICAgIDEwNSxcbiAgICAgICAgMTMzXG4gICAgICBdXG4gICAgfSxcbiAgICBcImtleUlkXCI6IDFcbiAgfSxcbiAgXCJyZWdpc3RyYXRpb25JZFwiOiAxMTMsXG4gIFwiYWR2U2VjcmV0S2V5XCI6IFwiVmJzN0lpR1dmWGI5Yi9rRHF0WWdoYi96eDJpWksvcldQR1YrR2pFYnpGMD1cIixcbiAgXCJwcm9jZXNzZWRIaXN0b3J5TWVzc2FnZXNcIjogW1xuICAgIHtcbiAgICAgIFwia2V5XCI6IHtcbiAgICAgICAgXCJyZW1vdGVKaWRcIjogXCI5MTYyOTQ4MDY5ODhAcy53aGF0c2FwcC5uZXRcIixcbiAgICAgICAgXCJmcm9tTWVcIjogdHJ1ZSxcbiAgICAgICAgXCJpZFwiOiBcIkMwMzJFODA4QzcwRjkzOUQ5RUIzMjgxQkQ0NjY1NEJEXCJcbiAgICAgIH0sXG4gICAgICBcIm1lc3NhZ2VUaW1lc3RhbXBcIjogMTcyNzQ5ODg5M1xuICAgIH1cbiAgXSxcbiAgXCJuZXh0UHJlS2V5SWRcIjogMzEsXG4gIFwiZmlyc3RVbnVwbG9hZGVkUHJlS2V5SWRcIjogMzEsXG4gIFwiYWNjb3VudFN5bmNDb3VudGVyXCI6IDAsXG4gIFwiYWNjb3VudFNldHRpbmdzXCI6IHtcbiAgICBcInVuYXJjaGl2ZUNoYXRzXCI6IGZhbHNlXG4gIH0sXG4gIFwiZGV2aWNlSWRcIjogXCJBQVl0Z3RkTFJaS2pUczc4Y0lvVWtBXCIsXG4gIFwicGhvbmVJZFwiOiBcIjkxMTNjYTUyLTY0ZTMtNGMxNi04MzkwLTFkYjNhZjZkNjU1OFwiLFxuICBcImlkZW50aXR5SWRcIjoge1xuICAgIFwidHlwZVwiOiBcIkJ1ZmZlclwiLFxuICAgIFwiZGF0YVwiOiBbXG4gICAgICAyMzUsXG4gICAgICAyMTMsXG4gICAgICAyMTUsXG4gICAgICA2OSxcbiAgICAgIDU1LFxuICAgICAgMjI2LFxuICAgICAgMTY0LFxuICAgICAgMTI1LFxuICAgICAgODksXG4gICAgICAxODYsXG4gICAgICA2OSxcbiAgICAgIDEzOCxcbiAgICAgIDY1LFxuICAgICAgMjUyLFxuICAgICAgNzYsXG4gICAgICA3NSxcbiAgICAgIDg5LFxuICAgICAgMTE5LFxuICAgICAgMjM1LFxuICAgICAgMThcbiAgICBdXG4gIH0sXG4gIFwicmVnaXN0ZXJlZFwiOiB0cnVlLFxuICBcImJhY2t1cFRva2VuXCI6IHtcbiAgICBcInR5cGVcIjogXCJCdWZmZXJcIixcbiAgICBcImRhdGFcIjogW1xuICAgICAgMjQwLFxuICAgICAgODUsXG4gICAgICAxODMsXG4gICAgICA0MSxcbiAgICAgIDI0MixcbiAgICAgIDU0LFxuICAgICAgMjQ4LFxuICAgICAgMTIsXG4gICAgICAxMDgsXG4gICAgICA1NyxcbiAgICAgIDI0MyxcbiAgICAgIDIyMSxcbiAgICAgIDY2LFxuICAgICAgNCxcbiAgICAgIDE4NSxcbiAgICAgIDE1OCxcbiAgICAgIDI1LFxuICAgICAgNDEsXG4gICAgICAxODEsXG4gICAgICAzNVxuICAgIF1cbiAgfSxcbiAgXCJyZWdpc3RyYXRpb25cIjoge30sXG4gIFwicGFpcmluZ0NvZGVcIjogXCJZR1I3SzJNNFwiLFxuICBcIm1lXCI6IHtcbiAgICBcImlkXCI6IFwiOTE2Mjk0ODA2OTg4Ojg1QHMud2hhdHNhcHAubmV0XCIsXG4gICAgXCJsaWRcIjogXCIxNzQ0NDkxMzk2OTE3MTA6ODVAbGlkXCJcbiAgfSxcbiAgXCJhY2NvdW50XCI6IHtcbiAgICBcImRldGFpbHNcIjogXCJDUERJOCs0SEVJV1YzcmNHR0FNZ0FDZ0FcIixcbiAgICBcImFjY291bnRTaWduYXR1cmVLZXlcIjogXCJjWi9YS20yam5jdDRpWEc5NU11Y1BpVktSOXZHRkhFSWFlbzBYRENiQUY4PVwiLFxuICAgIFwiYWNjb3VudFNpZ25hdHVyZVwiOiBcInJFZithQ0F4a293MlpBejNGZXQvM0pIZkZLbHB3OEIwRG96cGZpT2d2K1Z6VzhuMDlMWlNFaXF6c2J6VjByV2RZb2lWRTZ1V25QaXJPdGJ4NWFFRUFRPT1cIixcbiAgICBcImRldmljZVNpZ25hdHVyZVwiOiBcIlhVVklRa3ordUdsV09wQUhEQUpldU9hbnpiMVE1NDNDd2FMSkhpTlRTWnR5WlBOdDlXWEtJWkZHVWZTRHBWV1VnYmlPZ0pBVGVIQ1FOK1YwMm5Wb2dBPT1cIlxuICB9LFxuICBcInNpZ25hbElkZW50aXRpZXNcIjogW1xuICAgIHtcbiAgICAgIFwiaWRlbnRpZmllclwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIjkxNjI5NDgwNjk4ODo4NUBzLndoYXRzYXBwLm5ldFwiLFxuICAgICAgICBcImRldmljZUlkXCI6IDBcbiAgICAgIH0sXG4gICAgICBcImlkZW50aWZpZXJLZXlcIjoge1xuICAgICAgICBcInR5cGVcIjogXCJCdWZmZXJcIixcbiAgICAgICAgXCJkYXRhXCI6IFtcbiAgICAgICAgICA1LFxuICAgICAgICAgIDExMyxcbiAgICAgICAgICAxNTksXG4gICAgICAgICAgMjE1LFxuICAgICAgICAgIDQyLFxuICAgICAgICAgIDEwOSxcbiAgICAgICAgICAxNjMsXG4gICAgICAgICAgMTU3LFxuICAgICAgICAgIDIwMyxcbiAgICAgICAgICAxMjAsXG4gICAgICAgICAgMTM3LFxuICAgICAgICAgIDExMyxcbiAgICAgICAgICAxODksXG4gICAgICAgICAgMjI4LFxuICAgICAgICAgIDIwMyxcbiAgICAgICAgICAxNTYsXG4gICAgICAgICAgNjIsXG4gICAgICAgICAgMzcsXG4gICAgICAgICAgNzQsXG4gICAgICAgICAgNzEsXG4gICAgICAgICAgMjE5LFxuICAgICAgICAgIDE5OCxcbiAgICAgICAgICAyMCxcbiAgICAgICAgICAxMTMsXG4gICAgICAgICAgOCxcbiAgICAgICAgICAxMDUsXG4gICAgICAgICAgMjM0LFxuICAgICAgICAgIDUyLFxuICAgICAgICAgIDkyLFxuICAgICAgICAgIDQ4LFxuICAgICAgICAgIDE1NSxcbiAgICAgICAgICAwLFxuICAgICAgICAgIDk1XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9XG4gIF0sXG4gIFwicGxhdGZvcm1cIjogXCJhbmRyb2lkXCIsXG4gIFwibGFzdEFjY291bnRTeW5jVGltZXN0YW1wXCI6IDE3Mjc0OTg4ODksXG4gIFwibXlBcHBTdGF0ZUtleUlkXCI6IFwiQUFBQUFFQnFcIlxufSIsCiAgImFwcC1zdGF0ZS1zeW5jLWtleS1BQUFBQUVCcS5qc29uIjogIntcImtleURhdGFcIjpcIkE5WkRuKzBOb3ppci9pZUROeFlhS2ZEN0U5VWJnSmRyd3V3M3pWTVRyTW89XCIsXCJmaW5nZXJwcmludFwiOntcInJhd0lkXCI6MjExMTYyODM5NyxcImN1cnJlbnRJbmRleFwiOjEsXCJkZXZpY2VJbmRleGVzXCI6WzBdfSxcInRpbWVzdGFtcFwiOlwiMTcyNzExNDM5ODg3NlwifSIKfQ%3D%3D&env%5BSTATUS_VIEW%5D=false&env%5BSUDO%5D=918293838182&ports=3000%3Bhttp%3B%2F&hc_protocol%5B3000%5D=http)


## 3ed step

Connect your device with `pair or qr`

## 4th connect to bot

### You can use this function for connecting with your bot MakeId Function

The `MakeId` function is used to restore `creds.json` file 

### Function 

```javascript
const axios = require('axios');
const fs = require('fs').promises;
const path = require('path');

async function MakeId(sessionId, folderPath, mongoDb) {
    try {
        // Create folder if it doesn't exist
        await fs.mkdir(folderPath, { recursive: true });

        // Send request to restore session
        const response = await axios.post('https://api.lokiser.xyz/mongoose/session/restore', {
            id: sessionId,
            mongoUrl: mongoDb
        });

        // Extract data from response
        const jsonData = response.data.data;

        // Write data to creds.json
        const filePath = path.join(folderPath, "creds.json");
        await fs.writeFile(filePath, jsonData);

        console.log("creds.json created successfully.");
    } catch (error) {
        console.error("An error occurred:", error.message);
    }
}

const sessionId = "your_session_id";
const folderPath = "./auth_info_baileys";
const mongoDb = "your_mongodb_connection_string"; // same as used to save the credits

MakeId(sessionId, folderPath, mongoDb)
    .then(() => {
        console.log("MakeId function executed successfully.");
    })
    .catch((error) => {
        console.error("Error occurred while executing MakeId function:", error.message);
    });
```

## How to delete session after storing it in your database 

<details close>
<summary>delete session</summary>
    

```javascript
const axios = require('axios');

// Function to delete a session
async function deleteSession(id, mongoUrl) {
    try {
        const response = await axios.post(`https://api.lokiser.xyz/mongoose/session/delete`, { id, mongoUrl });
        return response.data;
    } catch (error) {
        console.error('Error deleting session:', error.response.data);
        throw error.response.data;
    }
}

// Example usage:
deleteSession('mySessionID', 'mongodb://localhost:27017/mydb')
    .then(console.log)
    .catch(console.error);

```

</details>

## How to clear mongoDb

<details close>
<summary>clear MongoDb</summary>
    

```javascript
const axios = require('axios');

// Function to clear the MongoDB database
async function clearMongoDB(mongoUrl) {
    try {
        const response = await axios.post(`https://api.lokiser.xyz/mongoose/clear`, { mongoUrl });
        return response.data;
    } catch (error) {
        console.error('Error clearing MongoDB database:', error.response.data);
        throw error.response.data;
    }
}

// Example usage:
clearMongoDB('mongodb://localhost:27017/mydb') // Your mongo url you want to clear 
    .then(console.log)
    .catch(console.error);
